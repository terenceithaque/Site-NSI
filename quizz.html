<!doctype html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Quizz</title>
        <link rel = "stylesheet" href="CSS/quizz.css">
    </head>

    <body>
        <h1 class="centered-title">Notre quizz</h1>

        <!--Foàrmulaire du quizz-->
        <form>

            <!--Question 1-->
            <label for="genre">Quel était le le genre du groupe 'The Coasters' ?</label>
                <select name ="genre" id="genre">
                <option value="rock_and_roll">Rock'n roll</option>
                <option value="jazz">Jazz</option>
                <option value="hip-hop">Hip-Hop</option>
                </select>
                
                <br>
            
                <!--Question 2-->
                <label for="year">En quelle année le groupe-a-til été créé ?</label>
                <select name="year" id="year">
                    <option name="1957">1957</option>
                    <option name="1959">1959</option>
                    <option name="1956">1956</option>
                </select>

                <br>

                <!--Question 3-->
                <label for="city">Dans quelle grande ville américaine se sont-ils produits ?</label>
                <select name="city" id="city">
                    <option name="san_francisco">San Francisco</option>
                    <option name="new_york">New York</option>
                    <option name="los_angeles">Los Angeles</option>
                </select>

                <br>

                <!--Question 4-->
                <label for="creation">"Sh boom life could be a dream" des "The Coasters" était </label>
                <select name="creation" id="creation">
                    <option name="originale">une création originale</option>
                    <option name="version">une nouvelle version d'une chanson existante</option>
                </select>

                <br>

                <!--Question 5-->
                <label for="film">Cette même chanson apparaît dans un film Pixar. Lequel ?</label>
                <select name="film" id="film">
                    <option name="monde_nemo">"Le monde de Nemo"</option>
                    <option name="planes">"Planes"</option>
                    <option name="cars">"Cars"</option>
                </select>
                

                
            
        </form>

        <button id="submit">Soumettre mes réponses</button>
    </body>

    <script src="JS/reponses_quizz.js"></script>

    <script>

        // Vider le stockage de session
        sessionStorage.clear();

        
        // Récupérer les éléments <select>
        let elGenre = document.getElementById("genre");
        let elYear = document.getElementById("year");
        let elCity = document.getElementById("city");
        let elCreation = document.getElementById("creation");
        let elFilm = document.getElementById("film");
        
        // Récupérer le bouton de soumission des réponses
        let submitButton = document.getElementById("submit");
        
       

        submitButton.addEventListener("click", submitAnswers)


        // Fonction pour soumettre les réponses
        function submitAnswers(){
            console.log("Soumission des réponses...");

             // Obtenir les réponses sélectionnées
            const genre = elGenre.value;
            console.log("genre :", genre);

            const year = elYear.value;
            console.log("year :", year);

            const city = elCity.value;
            console.log("city :", city);

            const creation = elCreation.value;
            console.log("creation :", creation);

            const film = elFilm.value;
            console.log("film :", film);

            // Écrire les données dans le stockage de session
            sessionStorage.setItem("answers", JSON.stringify([genre, year, city, creation, film]));
            //console.log(JSON.stringify([genre, year, city, creation, film]));

            console.log("Réponses obtenues :", getAnswers());

            // Charger la page des résultats
            window.location.href = "resultats.html"
        }
    </script>
</html>